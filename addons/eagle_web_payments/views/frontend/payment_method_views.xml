<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <template id="submit_btn_template" name="Payment Submit Button" inherit_id="payment.submit_button">
        <xpath expr="//button" position="before">
            <a role="button" id="o_eagle_submit_button" class="btn btn-primary w-105 disabled">
                <span class="tw">Pay Now</span>
            </a>


            <button class="btn btn-primary lh-1 w-105" id="o_eagle_submit_loader" disabled="" type="button">
                <span class="spinner-border spinner-border-sm" role="status"></span>
                <span class="sr-only">Processing Payment....</span>
            </button>
        </xpath>
    </template>


    <template id="payment.submit_button" name="Submit Button">
        <!-- Parameters description: - label: The label of the submit button. -->
        <button name="o_payment_submit_button"
            id="odoo_payment_btn"
            type="submit"
            t-out="submit_button_label"
            class="btn btn-primary w-100 w-md-auto ms-auto px-5"
            disabled="true"
        />

        <form
            method="post"
            action="/payment/custom/process"
            id="bank_payment_form"
            target="_top"
        >
            <input type="hidden" name="reference" value="" />
        </form>
    </template>

    <template id="payment_method_inherit" name="Payment Method Inherit" inherit_id="payment.method_form">
        <xpath expr="//p[@name='o_payment_secured_by']" position="replace"></xpath>


        <xpath expr="//div[@name='o_payment_tokenize_container']/label" position="after">


            <div t-if="pm_sudo.code =='eagle_airtel'">

                <div class="form-group mt-2">
                    <label class="form-label">Airtel Number</label>
                    <div class="input-group">
                        <button class="btn btn-outline-primary phone_btn">
                            <img src="/eagle_web_payments/static/description/flag.png" style="width:25px;" alt="Uganda Flag" />
                            +256
                        </button>
                        <input type="text" pattern="\d{9}" maxlength="9" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,9)" id="airtel_phone" name="airtel_phone" class="form-control us_telephone" autocomplete="off" data-mask="(999) 999-999" placeholder="" />
                    </div>
                    <p id="invalidAirtelNum"></p>
                </div>
            </div>

            <div t-if="pm_sudo.code =='eagle_mtn'">

                <div class="form-group mt-2">
                    <label class="form-label">MTN Number</label>
                    <div class="input-group">
                        <button class="btn btn-outline-primary phone_btn">
                            <img src="/eagle_web_payments/static/description/flag.png" style="width:25px;" alt="Uganda Flag" />
                            +256
                        </button>
                        <input type="text" pattern="\d{9}" maxlength="9" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,9)" id="mtn_phone" name="mtn_phone" class="form-control ug_telephone" autocomplete="off" data-mask="(999) 999-999" placeholder="" />
                    </div>

                    <p id="invalidMtnNum"></p>
                </div>
            </div>


            <!-- MPESA PAYMENTS -->
            <div t-if="pm_sudo.code =='eagle_mpesa'">

                <div class="form-group mt-2">
                    <label class="form-label">M-PESA Number</label>
                    <div class="input-group">
                        <button class="btn btn-outline-primary phone_btn">
                            <img src="/eagle_web_payments/static/assets/kenya.png" style="width:25px;" alt="Kenya Flag" />
                            +254
                        </button>
                        <input type="text" pattern="\d{9}" maxlength="9" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,9)" id="mpesa_phone" name="mpesa_phone" class="form-control ug_telephone" autocomplete="off" data-mask="(999) 999-999" placeholder="" />
                    </div>

                    <p id="invalidMpesaNum"></p>
                </div>
            </div>


            <!-- === Provider name === -->
            <p name="o_payment_secured_by"
                t-att-class="'align-self-end mb-0 ms-auto small text-600'
             + (' d-none' if provider_sudo.code == 'custom' else '')"
            >
                <span>
                    <i class="fa fa-lock" />
                    Secured by
                </span>
                <span t-out="dict(provider_sudo._fields['code']._description_selection(
                              provider_sudo.env
                          ))[provider_sudo.code]"
                    class="text-break"
                />
            </p>

        </xpath>
    </template>


</odoo>