<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="wizard_wallet_form" model="ir.ui.view">
        <field name="name">wizard.wallet.form</field>
        <field name="model">wizard.wallet</field>
        <field name="arch" type="xml">
            <form string="Wallet Transaction">
               

                <sheet>
                <p class="text-center" invisible="not sent_code"><field name="message" readonly="1"/></p>
                        <p class="text-center" invisible="not sent_code">
                            <field name="account_peppol_verification_code" widget="verification_code" />

                        </p>
                    <group invisible="sent_code">

                      
                        <group invisible="sent_code">
                            <field name="sender_wallet" invisible="1" />
                            <field name="receiver_wallet" readonly="sent_code"
                                options="{'no_open': True, 'no_create': True}"
                                domain="[('id','not in',[sender_wallet]),('eagle_status','=','active')]"
                            />
                            <field name="amount" readonly="sent_code"  />
                            <field name="user_email" readonly="sent_code"  />
                        </group>
                        <group invisible="sent_code">
                           
                            <field name="sent_code" invisible="1" />
                            <field name="account_peppol_verification_code" class="custom_verification" required="sent_code"  widget="verification_code"
                                invisible="not sent_code" />
                        </group>
                    </group>
                </sheet>
                
                <footer>
                    <button name="action_send"
                        string="Send" type="object" data-hotkey="q"
                        class="btn-primary" invisible="sent_code">
                    </button>
                    <button name="action_validate"
                        string="Validate" type="object" data-hotkey="q"
                        class="btn-success" invisible="not sent_code">
                    </button>
                    <button
                        string="Discard" special="cancel"
                        class="btn-secondary">
                    </button>

                </footer>

            </form>
        </field>
    </record>

    <record id="wizard_transaction_action" model="ir.actions.act_window">
        <field name="name">Allocate Funds</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">wizard.wallet</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="wizard_wallet_form" />
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create new Money Allocation
            </p>
        </field>
    </record>


</odoo>